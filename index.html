<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalMD - Markdownç¼–è¾‘å™¨</title>
    <link rel="stylesheet" href="styles.css">
    <script src="deepseek.js"></script>
</head>
<body>
    <div id="app">
        <!-- å·¥å…·æ  -->
        <div id="toolbar">
            <div class="toolbar-group">
                <button id="btn-h1" title="æ ‡é¢˜ 1" class="toolbar-btn">H1</button>
                <button id="btn-h2" title="æ ‡é¢˜ 2" class="toolbar-btn">H2</button>
                <button id="btn-h3" title="æ ‡é¢˜ 3" class="toolbar-btn">H3</button>
            </div>
            <div class="toolbar-separator"></div>
            <div class="toolbar-group">
                <button id="btn-bold" title="åŠ ç²— (Ctrl+B)" class="toolbar-btn">
                    <strong>B</strong>
                </button>
                <button id="btn-italic" title="æ–œä½“ (Ctrl+I)" class="toolbar-btn">
                    <em>I</em>
                </button>
                <button id="btn-strikethrough" title="åˆ é™¤çº¿" class="toolbar-btn">
                    <s>S</s>
                </button>
            </div>
            <div class="toolbar-separator"></div>
            <div class="toolbar-group">
                <button id="btn-quote" title="å¼•ç”¨" class="toolbar-btn">â</button>
                <button id="btn-code" title="ä»£ç " class="toolbar-btn">&lt;/&gt;</button>
                <button id="btn-link" title="é“¾æ¥" class="toolbar-btn">ğŸ”—</button>
                <button id="btn-image" title="å›¾ç‰‡" class="toolbar-btn">ğŸ–¼ï¸</button>
            </div>
            <div class="toolbar-separator"></div>
            <div class="toolbar-group">
                <button id="btn-ul" title="æ— åºåˆ—è¡¨" class="toolbar-btn">â€¢ List</button>
                <button id="btn-ol" title="æœ‰åºåˆ—è¡¨" class="toolbar-btn">1. List</button>
                <button id="btn-task" title="ä»»åŠ¡åˆ—è¡¨" class="toolbar-btn">â˜‘ Task</button>
            </div>
            <div class="toolbar-right">
                <button id="btn-ai-polish" title="AI æ¶¦è‰² (Ctrl+Shift+P)" class="toolbar-btn ai-btn">âœ¨ AIæ¶¦è‰²</button>
                <button id="btn-settings" title="è®¾ç½®" class="toolbar-btn">âš™ï¸</button>
                <button id="btn-theme" title="åˆ‡æ¢ä¸»é¢˜ (Ctrl+T)" class="toolbar-btn">ğŸŒ“</button>
                <span id="status-text" class="status-text">æœªä¿å­˜</span>
            </div>
        </div>

        <!-- ç¼–è¾‘å™¨å®¹å™¨ -->
        <div id="editor-container">
            <!-- ç¼–è¾‘å™¨åŒºåŸŸ -->
            <div id="editor-pane">
                <textarea id="markdown-editor" placeholder="å¼€å§‹è¾“å…¥ Markdown..."></textarea>
            </div>
            
            <!-- åˆ†å‰²çº¿ -->
            <div id="divider"></div>
            
            <!-- é¢„è§ˆåŒºåŸŸ -->
            <div id="preview-pane">
                <div id="markdown-preview" class="markdown-body"></div>
            </div>
        </div>
    </div>

    <!-- è®¾ç½®å¼¹çª— -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>è®¾ç½®</h2>
                <button id="close-settings" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>DeepSeek AI é…ç½®</h3>
                    
                    <div class="form-group">
                        <label for="api-key">API Key *</label>
                        <input type="password" id="api-key" placeholder="è¯·è¾“å…¥ DeepSeek API Key">
                        <small>è·å– API Keyï¼š<a href="https://platform.deepseek.com" target="_blank">https://platform.deepseek.com</a></small>
                    </div>

                    <div class="form-group">
                        <label for="base-url">API åœ°å€</label>
                        <input type="text" id="base-url" placeholder="https://api.deepseek.com/v1">
                    </div>

                    <div class="form-group">
                        <label for="model">æ¨¡å‹</label>
                        <select id="model">
                            <option value="deepseek-chat">deepseek-chat</option>
                            <option value="deepseek-coder">deepseek-coder</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="temperature">Temperature (åˆ›é€ æ€§): <span id="temp-value">0.7</span></label>
                        <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.7">
                        <small>0 = æ›´ä¿å®ˆï¼Œ1 = æ›´æœ‰åˆ›æ„</small>
                    </div>

                    <div class="form-group">
                        <label for="max-tokens">æœ€å¤§ Tokens</label>
                        <input type="number" id="max-tokens" value="2000" min="100" max="4000">
                    </div>

                    <div class="form-group">
                        <label for="system-prompt">ç³»ç»Ÿæç¤ºè¯</label>
                        <textarea id="system-prompt" rows="3" placeholder="ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¸­æ–‡å†™ä½œåŠ©æ‰‹..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="test-api" class="btn-secondary">æµ‹è¯•è¿æ¥</button>
                <button id="save-settings" class="btn-primary">ä¿å­˜è®¾ç½®</button>
            </div>
        </div>
    </div>

    <!-- AI æ¶¦è‰²åŠ è½½æç¤º -->
    <div id="ai-loading" class="ai-loading" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <p>AI æ­£åœ¨æ¶¦è‰²ä¸­...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.0/marked.min.js"></script>
    <script src="renderer.js"></script>
</body>
</html>
